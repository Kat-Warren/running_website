{% extends "base.html" %}
{% block content %}

<html>
    <head>
        <title>Display All Avaliable Races</title>
        
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="{{ url_for('static', filename='js/login.js') }}"></script>

        <style>
            h1 {
            font-size: 2.5em; 
            color: #343a40; 
            text-align: center; 
            margin-top: 20px;
            margin-bottom: 20px; 
            font-weight: bold;
            letter-spacing: 1.5px; 
            }

            .table-container {
                margin: 0 auto;
                width: 90%;
                overflow-x: auto;
            }

        
            table {
                width: 100%;
                margin-top: 20px;
                border-radius: 8px; 
                border-collapse: collapse;
                background-color: #ffffff;
                overflow: hidden;
            }
    
            th, td {
                padding: 15px;
                text-align: left;
            }
    
            th {
                background-color: #343a40; 
                color: white;
                font-size: 1.1em;
                font-weight: bold;
            }
    
            tr:hover {
                background-color: #ADD8E6;
            }

            button[type="submit"] {
                background-color: white; /* Green button */
                color: black;
                border: none;
                padding: 10px 15px;
                font-size: 0.9em;
                border-radius: 5px;
                cursor: pointer;
                transition: background-color 0.3s ease;
        }

            
            button[type="submit"]:hover {
                background-color: #b0e57c;
            }

            
            
            /* Accessibility */
            table {
                border-spacing: 0;
            }
    
            th, td {
                border-bottom: 1px solid #ddd;
            }
        </style>

    </head>
    <body>
        <h1>Available Races</h1>

        <!-- Race table -->
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Date</th>
                    <th>Description</th>
                    <th>Competing</th>
                    <th>Save</th>
                </tr>
            </thead>
            <tbody>
                {% for race in races %}
                <tr>
                    <td>{{ race.id }}</td>
                    <td>{{ race.name }}</td>
                    <td>{{ race.date.strftime('%Y-%m-%d') }}</td>
                    <td>{{ race.description }}</td>
                    <td>{{ 'Yes' if race.competing else 'No' }}</td>
                    <td><form action="{{ url_for('save_race', race_id=race.id) }}" method="post">
                        <button type="submit">Save Race</button></form></td>
                    </form>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </body>
   
    </html>
{% endblock %}